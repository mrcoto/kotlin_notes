<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Capítulo 2: OOP | Kotlin</title>
    <meta name="description" content="Apuntes de Kotlin">
    
    
    <link rel="preload" href="/kotlin_notes/dist/assets/css/0.styles.1f3aca6e.css" as="style"><link rel="preload" href="/kotlin_notes/dist/assets/js/app.7622c1c0.js" as="script"><link rel="preload" href="/kotlin_notes/dist/assets/js/2.89ccfc61.js" as="script"><link rel="preload" href="/kotlin_notes/dist/assets/js/6.e9488f40.js" as="script"><link rel="prefetch" href="/kotlin_notes/dist/assets/js/10.5829ee5a.js"><link rel="prefetch" href="/kotlin_notes/dist/assets/js/11.6c1b988e.js"><link rel="prefetch" href="/kotlin_notes/dist/assets/js/12.6233f356.js"><link rel="prefetch" href="/kotlin_notes/dist/assets/js/13.19485881.js"><link rel="prefetch" href="/kotlin_notes/dist/assets/js/14.1a59cbdf.js"><link rel="prefetch" href="/kotlin_notes/dist/assets/js/3.0720029a.js"><link rel="prefetch" href="/kotlin_notes/dist/assets/js/4.0c6746b3.js"><link rel="prefetch" href="/kotlin_notes/dist/assets/js/5.b97e109a.js"><link rel="prefetch" href="/kotlin_notes/dist/assets/js/7.c4fd868a.js"><link rel="prefetch" href="/kotlin_notes/dist/assets/js/8.868e3209.js"><link rel="prefetch" href="/kotlin_notes/dist/assets/js/9.35780d16.js">
    <link rel="stylesheet" href="/kotlin_notes/dist/assets/css/0.styles.1f3aca6e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/kotlin_notes/dist/" class="home-link router-link-active"><!----> <span class="site-name">Kotlin</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/kotlin_notes/dist/" class="nav-link">Inicio</a></div><div class="nav-item"><a href="https://github.com/mrcoto/kotlin_notes/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/kotlin_notes/dist/" class="nav-link">Inicio</a></div><div class="nav-item"><a href="https://github.com/mrcoto/kotlin_notes/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><a href="/kotlin_notes/dist/content/chapter1" class="sidebar-heading clickable open"><span>Comenzando</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/kotlin_notes/dist/content/chapter1.html" class="sidebar-link">Capítulo 1: Comenzando</a></li><li><a href="/kotlin_notes/dist/content/chapter2.html" class="active sidebar-link">Capítulo 2: OOP</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/kotlin_notes/dist/content/chapter2.html#data-classes" class="sidebar-link">Data Classes</a></li><li class="sidebar-sub-header"><a href="/kotlin_notes/dist/content/chapter2.html#enum-classes" class="sidebar-link">Enum Classes</a></li><li class="sidebar-sub-header"><a href="/kotlin_notes/dist/content/chapter2.html#singleton" class="sidebar-link">Singleton</a></li><li class="sidebar-sub-header"><a href="/kotlin_notes/dist/content/chapter2.html#factory" class="sidebar-link">Factory</a></li><li class="sidebar-sub-header"><a href="/kotlin_notes/dist/content/chapter2.html#herencia" class="sidebar-link">Herencia</a></li><li class="sidebar-sub-header"><a href="/kotlin_notes/dist/content/chapter2.html#polimorfismo" class="sidebar-link">Polimorfismo</a></li><li class="sidebar-sub-header"><a href="/kotlin_notes/dist/content/chapter2.html#delegacion" class="sidebar-link">Delegación</a></li><li class="sidebar-sub-header"><a href="/kotlin_notes/dist/content/chapter2.html#trait" class="sidebar-link">Trait</a></li><li class="sidebar-sub-header"><a href="/kotlin_notes/dist/content/chapter2.html#sealed-classes" class="sidebar-link">Sealed Classes</a></li></ul></li><li><a href="/kotlin_notes/dist/content/chapter3.html" class="sidebar-link">Capítulo 3: Funciones</a></li><li><a href="/kotlin_notes/dist/content/chapter4.html" class="sidebar-link">Capítulo 4: Higher Order Functions y Programación Funcional</a></li><li><a href="/kotlin_notes/dist/content/chapter5.html" class="sidebar-link">Capítulo 5: DSL</a></li><li><a href="/kotlin_notes/dist/content/chapter6.html" class="sidebar-link">Capítulo 6: Properties</a></li><li><a href="/kotlin_notes/dist/content/chapter7.html" class="sidebar-link">Capítulo 7: Null Safety, Reflections and Annotations</a></li><li><a href="/kotlin_notes/dist/content/chapter8.html" class="sidebar-link">Capítulo 8: Generics</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="capitulo-2-oop"><a href="#capitulo-2-oop" aria-hidden="true" class="header-anchor">#</a> Capítulo 2: OOP</h1> <p>A diferencia de Java, se pueden definir varias clases en un mismo archivo
(y no un class por archivo en Java)</p> <div class="language-kotlin line-numbers-mode"><pre class="language-kotlin"><code><span class="token comment">// Constructor con parámetros por defecto</span>
<span class="token keyword">class</span> <span class="token function">Employee</span><span class="token punctuation">(</span><span class="token keyword">val</span> firstName<span class="token operator">:</span> String <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> <span class="token keyword">val</span> lastName<span class="token operator">:</span> String <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> <span class="token keyword">private</span> <span class="token keyword">var</span> age<span class="token operator">:</span> Int <span class="token operator">=</span> <span class="token number">18</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">init</span> <span class="token punctuation">{</span>
        <span class="token function">require</span><span class="token punctuation">(</span>firstName<span class="token punctuation">.</span><span class="token function">isNotEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token string">&quot;El primer nombre no puede estar vacío&quot;</span> <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">val</span> fullName<span class="token operator">:</span> String <span class="token comment">// Declaración de property</span>
        <span class="token keyword">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token string">&quot;<span class="token interpolation"><span class="token delimiter variable">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>firstName<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token delimiter variable">}</span></span> <span class="token interpolation"><span class="token delimiter variable">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>lastName<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token delimiter variable">}</span></span>&quot;</span>

    <span class="token keyword">fun</span> <span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Int <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token comment">// Inline function</span>
    <span class="token keyword">fun</span> <span class="token function">setAge</span><span class="token punctuation">(</span>age<span class="token operator">:</span> Int<span class="token punctuation">)</span><span class="token operator">:</span> Unit <span class="token punctuation">{</span> <span class="token comment">// Unit es como void, opcional colocarlo</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">fun</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">val</span> employee <span class="token operator">=</span> <span class="token function">Employee</span><span class="token punctuation">(</span><span class="token string">&quot;Artu&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Rito&quot;</span><span class="token punctuation">)</span> <span class="token comment">// No hay que colocar new Employee(...)</span>
    <span class="token function">println</span><span class="token punctuation">(</span>employee<span class="token punctuation">.</span>firstName<span class="token punctuation">)</span> <span class="token comment">// Artu</span>
    <span class="token function">println</span><span class="token punctuation">(</span>employee<span class="token punctuation">.</span>fullName<span class="token punctuation">)</span> <span class="token comment">// ARTU RITO</span>
    <span class="token function">println</span><span class="token punctuation">(</span>employee<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 18</span>
    <span class="token keyword">val</span> emp2 <span class="token operator">=</span> <span class="token function">Employee</span><span class="token punctuation">(</span>firstName <span class="token operator">=</span> <span class="token string">&quot;Artu&quot;</span><span class="token punctuation">)</span> <span class="token comment">// firstName: &quot;Artu&quot;, lastName: &quot;&quot;</span>
    <span class="token keyword">val</span> emp3 <span class="token operator">=</span> <span class="token function">Employee</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// &lt; - Excepción | firstName no puede estar vacio</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p>Una clase por defecto es final (no se puede hereder de esta misma),
para que se puede heredar se debe especificar <strong>open class</strong>.
También soporta las <strong>abstract classes</strong>, clases no instanciables que declaran
funciones que pueden ser sobreescritas para quien herede esta abstract class.</p> <p>Existen tres niveles de acceso:</p> <ul><li><strong>Internal</strong>: Se puede instanciar una clase únicamente dentro del módulo.</li> <li><strong>Private</strong>: Solo es visible en el alcance del archivo donde está definido.</li> <li><strong>Protected</strong>: Es visible en sub-classes, y no está disponible a nivel-archivo.</li> <li><strong>Public</strong> (Por defecto)</li></ul> <p>Al igual que Java, existen las <strong>Nested Classes</strong> (clases dentro de otra)</p> <h2 id="data-classes"><a href="#data-classes" aria-hidden="true" class="header-anchor">#</a> Data Classes</h2> <p>Si solo se requiere guardar información, kotlin provee las data classes:</p> <div class="language-kotlin line-numbers-mode"><pre class="language-kotlin"><code><span class="token keyword">data</span> <span class="token keyword">class</span> <span class="token function">Point</span><span class="token punctuation">(</span><span class="token keyword">val</span> x<span class="token operator">:</span> Int<span class="token punctuation">,</span> <span class="token keyword">val</span> y<span class="token operator">:</span> Int<span class="token punctuation">)</span>

<span class="token keyword">fun</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">val</span> point <span class="token operator">=</span> <span class="token function">Point</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="enum-classes"><a href="#enum-classes" aria-hidden="true" class="header-anchor">#</a> Enum Classes</h2> <div class="language-kotlin line-numbers-mode"><pre class="language-kotlin"><code><span class="token keyword">enum</span> <span class="token keyword">class</span> Status <span class="token punctuation">{</span> LOW<span class="token punctuation">,</span> MEDIUM<span class="token punctuation">,</span> HIGH <span class="token punctuation">}</span>
<span class="token keyword">enum</span> <span class="token keyword">class</span> <span class="token function">Step</span><span class="token punctuation">(</span><span class="token keyword">val</span> sequence<span class="token operator">:</span> Int<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token function">START</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">GOING</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">END</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>

<span class="token keyword">fun</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">val</span> status <span class="token operator">=</span> Status<span class="token punctuation">.</span>LOW
    <span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;<span class="token interpolation"><span class="token delimiter variable">${</span>status<span class="token punctuation">.</span>name<span class="token delimiter variable">}</span></span>: <span class="token interpolation"><span class="token delimiter variable">${</span>status<span class="token punctuation">.</span>ordinal<span class="token delimiter variable">}</span></span>&quot;</span><span class="token punctuation">)</span> <span class="token comment">// LOW: 0</span>
    <span class="token function">println</span><span class="token punctuation">(</span>Arrays<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>Status<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// [LOW, MEDIUM, HIGH]</span>
    <span class="token keyword">val</span> step <span class="token operator">=</span> Step<span class="token punctuation">.</span>GOING
    <span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;<span class="token interpolation"><span class="token delimiter variable">${</span>step<span class="token punctuation">.</span>name<span class="token delimiter variable">}</span></span>: <span class="token interpolation"><span class="token delimiter variable">${</span>step<span class="token punctuation">.</span>sequence<span class="token delimiter variable">}</span></span> (<span class="token interpolation"><span class="token delimiter variable">${</span>step<span class="token punctuation">.</span>ordinal<span class="token delimiter variable">}</span></span>)&quot;</span><span class="token punctuation">)</span> <span class="token comment">// GOING: 2 (1)</span>
    <span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;${Step.valueOf(&quot;</span>END<span class="token string">&quot;).sequence}&quot;</span><span class="token punctuation">)</span> <span class="token comment">// 3</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="singleton"><a href="#singleton" aria-hidden="true" class="header-anchor">#</a> Singleton</h2> <p>Los singleton en Kotlin se definen con la palabra reservada <strong>object</strong></p> <div class="language-kotlin line-numbers-mode"><pre class="language-kotlin"><code><span class="token keyword">object</span> Counter <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">var</span> counter <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">fun</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> counter<span class="token operator">++</span> <span class="token punctuation">}</span>
    <span class="token keyword">fun</span> <span class="token keyword">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Int <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>counter
<span class="token punctuation">}</span>

<span class="token keyword">fun</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">val</span> counter1 <span class="token operator">=</span> Counter
    counter1<span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// counter: 1</span>
    <span class="token keyword">val</span> counter2 <span class="token operator">=</span> Counter
    counter2<span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// counter: 2</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="factory"><a href="#factory" aria-hidden="true" class="header-anchor">#</a> Factory</h2> <p>El patrón factory se puede implementar utilizando la keyword <strong>companion object</strong>.</p> <div class="language-kotlin line-numbers-mode"><pre class="language-kotlin"><code><span class="token keyword">class</span> <span class="token function">Point</span> <span class="token punctuation">(</span>x<span class="token operator">:</span> Int<span class="token punctuation">,</span> y<span class="token operator">:</span> Int<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">companion</span> <span class="token keyword">object</span> <span class="token punctuation">{</span>
        <span class="token keyword">fun</span> <span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Point <span class="token operator">=</span> <span class="token function">Point</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> Instantiable<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">fun</span> <span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> T
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token function">Dog</span><span class="token punctuation">(</span>name<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">companion</span> <span class="token keyword">object</span><span class="token operator">:</span> Instantiable<span class="token operator">&lt;</span>Dog<span class="token operator">&gt;</span> <span class="token punctuation">{</span> <span class="token comment">// implementación + generics</span>
        <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Dog  <span class="token operator">=</span> <span class="token function">Dog</span><span class="token punctuation">(</span><span class="token string">&quot;Cachupín&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">fun</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">val</span> point <span class="token operator">=</span> Point<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">val</span> dog <span class="token operator">=</span> Dog<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h2 id="herencia"><a href="#herencia" aria-hidden="true" class="header-anchor">#</a> Herencia</h2> <p>En kotlin, en vez de utilizar <strong>extends</strong> para heredar, o <strong>implements</strong> para implementar,
se utilizan los dos puntos (😃, como en el ejemplo anterior. Sirve tanto para heredar
como para implementar.</p> <div class="language-kotlin line-numbers-mode"><pre class="language-kotlin"><code><span class="token keyword">open</span> <span class="token keyword">class</span> <span class="token function">Point2D</span><span class="token punctuation">(</span><span class="token keyword">val</span> x<span class="token operator">:</span>Int<span class="token punctuation">,</span> <span class="token keyword">val</span> y<span class="token operator">:</span>Int<span class="token punctuation">)</span>
<span class="token keyword">open</span> <span class="token keyword">class</span> <span class="token function">Point3D</span><span class="token punctuation">(</span>x<span class="token operator">:</span>Int<span class="token punctuation">,</span> y<span class="token operator">:</span>Int<span class="token punctuation">,</span> <span class="token keyword">val</span> z<span class="token operator">:</span> Int<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">Point2D</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span>
<span class="token keyword">class</span> Point4D <span class="token operator">:</span> Point3D <span class="token punctuation">{</span>
    <span class="token keyword">var</span> g<span class="token operator">:</span> Int
    <span class="token keyword">constructor</span><span class="token punctuation">(</span>x<span class="token operator">:</span> Int<span class="token punctuation">,</span> y<span class="token operator">:</span> Int<span class="token punctuation">,</span> z<span class="token operator">:</span> Int<span class="token punctuation">,</span> g<span class="token operator">:</span> Int<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>g <span class="token operator">=</span> g
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">fun</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">val</span> point2d <span class="token operator">=</span> <span class="token function">Point2D</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span>
    <span class="token keyword">val</span> point3d <span class="token operator">=</span> <span class="token function">Point3D</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span>
    <span class="token keyword">val</span> point4D <span class="token operator">=</span> <span class="token function">Point4D</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h2 id="polimorfismo"><a href="#polimorfismo" aria-hidden="true" class="header-anchor">#</a> Polimorfismo</h2> <div class="language-kotlin line-numbers-mode"><pre class="language-kotlin"><code><span class="token keyword">open</span> <span class="token keyword">class</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token keyword">val</span> firstName<span class="token operator">:</span> String<span class="token punctuation">,</span> <span class="token keyword">val</span> lastName<span class="token operator">:</span> String<span class="token punctuation">)</span>
<span class="token keyword">enum</span> <span class="token keyword">class</span> SingerTone <span class="token punctuation">{</span>LOW<span class="token punctuation">,</span> MEDIUM<span class="token punctuation">,</span> HIGH<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token function">Singer</span><span class="token punctuation">(</span>firstName<span class="token operator">:</span> String<span class="token punctuation">,</span> lastName<span class="token operator">:</span> String<span class="token punctuation">,</span> <span class="token keyword">val</span> tone<span class="token operator">:</span> SingerTone<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token function">Person</span><span class="token punctuation">(</span>firstName<span class="token punctuation">,</span> lastName<span class="token punctuation">)</span>
<span class="token keyword">enum</span> <span class="token keyword">class</span> SoccerPlayerPosition <span class="token punctuation">{</span> GOALKEEPER<span class="token punctuation">,</span> DEFENDER<span class="token punctuation">,</span> MIDFIELDER<span class="token punctuation">,</span> FORWARD <span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token function">SoccerPlayer</span><span class="token punctuation">(</span>firstName<span class="token operator">:</span> String<span class="token punctuation">,</span> lastName<span class="token operator">:</span> String<span class="token punctuation">,</span> <span class="token keyword">val</span> position<span class="token operator">:</span> SoccerPlayerPosition<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token function">Person</span><span class="token punctuation">(</span>firstName<span class="token punctuation">,</span> lastName<span class="token punctuation">)</span>

<span class="token keyword">fun</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">val</span> singer <span class="token operator">=</span> <span class="token function">Singer</span><span class="token punctuation">(</span><span class="token string">&quot;Barry&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;White&quot;</span><span class="token punctuation">,</span> SingerTone<span class="token punctuation">.</span>HIGH<span class="token punctuation">)</span>
    <span class="token keyword">val</span> soccerPlayer <span class="token operator">=</span> <span class="token function">SoccerPlayer</span><span class="token punctuation">(</span><span class="token string">&quot;Iker&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Casillas&quot;</span><span class="token punctuation">,</span> SoccerPlayerPosition<span class="token punctuation">.</span>GOALKEEPER<span class="token punctuation">)</span>
    <span class="token keyword">val</span> people <span class="token operator">=</span> <span class="token function">listOf</span><span class="token punctuation">(</span>singer<span class="token punctuation">,</span> soccerPlayer<span class="token punctuation">)</span> <span class="token comment">// Person List</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>person <span class="token keyword">in</span> people<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// person: Person</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>person <span class="token keyword">is</span> Singer<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">println</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>tone<span class="token punctuation">)</span> <span class="token comment">// HIGH  | No es necesario castear (Singer) person como en Java</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h2 id="delegacion"><a href="#delegacion" aria-hidden="true" class="header-anchor">#</a> Delegación</h2> <p>La delegación en Kotlin se puede utilizar con la palabra reservada <strong>by</strong>.</p> <div class="language-kotlin line-numbers-mode"><pre class="language-kotlin"><code><span class="token keyword">interface</span> SoftDeletable <span class="token punctuation">{</span>
    <span class="token keyword">fun</span> <span class="token function">delete</span><span class="token punctuation">(</span>id<span class="token operator">:</span> Int<span class="token punctuation">)</span><span class="token operator">:</span> String
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token function">SoftDelete</span><span class="token punctuation">(</span><span class="token keyword">val</span> table<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token operator">:</span> SoftDeletable <span class="token punctuation">{</span>
    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">delete</span><span class="token punctuation">(</span>id<span class="token operator">:</span> Int<span class="token punctuation">)</span><span class="token operator">:</span> String <span class="token operator">=</span> <span class="token string">&quot;UPDATE <span class="token interpolation variable">$table</span> SET deleted_at = CURRENT_TIMESTAMP WHERE id = <span class="token interpolation variable">$id</span>&quot;</span>
<span class="token punctuation">}</span>

<span class="token comment">// No se es necesario redefinir fun delete(id: Int): String, ya que se lo delega a la instancia &quot;softDelete&quot;</span>
<span class="token keyword">class</span> <span class="token function">Employee</span><span class="token punctuation">(</span>softDelete<span class="token operator">:</span> SoftDelete<span class="token punctuation">)</span> <span class="token operator">:</span> SoftDeletable <span class="token keyword">by</span> softDelete

<span class="token keyword">fun</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">val</span> employeeSoftDelete <span class="token operator">=</span> <span class="token function">SoftDelete</span><span class="token punctuation">(</span><span class="token string">&quot;employee&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">val</span> employee <span class="token operator">=</span> <span class="token function">Employee</span><span class="token punctuation">(</span>employeeSoftDelete<span class="token punctuation">)</span>
    <span class="token function">println</span><span class="token punctuation">(</span>employee<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// UPDATE employee SET deleted_at = CURRENT_TIMESTAMP WHERE id = 2</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h2 id="trait"><a href="#trait" aria-hidden="true" class="header-anchor">#</a> Trait</h2> <p>Los trait a diferencia de la delegación pueden tener propiedades o campos,
pero sin tener un estado (es decir se declaran variables sin tener una asignación).
Es útil para reducir el código de la delegación para que sea más entendible.</p> <div class="language-kotlin line-numbers-mode"><pre class="language-kotlin"><code><span class="token keyword">interface</span> SoftDeletable <span class="token punctuation">{</span>
    <span class="token keyword">var</span> table<span class="token operator">:</span> String <span class="token comment">// No puedo hacer table = &quot;employee&quot;</span>
    <span class="token keyword">fun</span> <span class="token function">delete</span><span class="token punctuation">(</span>id<span class="token operator">:</span> Int<span class="token punctuation">)</span><span class="token operator">:</span> String <span class="token operator">=</span> <span class="token string">&quot;UPDATE <span class="token interpolation variable">$table</span> SET deleted_at = CURRENT_TIMESTAMP WHERE id = <span class="token interpolation variable">$id</span>&quot;</span>
<span class="token punctuation">}</span>
<span class="token comment">// No se es necesario redefinir fun delete(id: Int): String</span>
<span class="token keyword">class</span> <span class="token function">Employee</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> SoftDeletable <span class="token punctuation">{</span>
    <span class="token keyword">override</span> <span class="token keyword">var</span> table<span class="token operator">:</span> String <span class="token operator">=</span> <span class="token string">&quot;employee&quot;</span> <span class="token comment">// Se asigna un estado al trait SoftDeletable</span>
<span class="token punctuation">}</span>

<span class="token keyword">fun</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">val</span> employee <span class="token operator">=</span> <span class="token function">Employee</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">println</span><span class="token punctuation">(</span>employee<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// UPDATE employee SET deleted_at = CURRENT_TIMESTAMP WHERE id = 2</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="sealed-classes"><a href="#sealed-classes" aria-hidden="true" class="header-anchor">#</a> Sealed Classes</h2> <p>Una sealed class es una clase abstracta (no instanciable) que entrega &quot;superpoderes&quot;
a las enum classes, pudiendo estas contener clases.</p> <div class="language-kotlin line-numbers-mode"><pre class="language-kotlin"><code><span class="token keyword">sealed</span> <span class="token keyword">class</span> <span class="token function">Operation</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">class</span> <span class="token function">Add</span><span class="token punctuation">(</span><span class="token keyword">val</span> x<span class="token operator">:</span> Int<span class="token punctuation">,</span> <span class="token keyword">val</span> y<span class="token operator">:</span> Int<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">Operation</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">class</span> <span class="token function">Minus</span><span class="token punctuation">(</span><span class="token keyword">val</span> x<span class="token operator">:</span> Int<span class="token punctuation">,</span> <span class="token keyword">val</span> y<span class="token operator">:</span> Int<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">Operation</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">fun</span> <span class="token function">apply</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Int <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">when</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">is</span> Add <span class="token operator">-&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y
            <span class="token keyword">is</span> Minus <span class="token operator">-&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">fun</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">val</span> op <span class="token operator">=</span> Operation<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span>
    <span class="token function">println</span><span class="token punctuation">(</span>op<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 9</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Última Vez Actualizado: </span> <span class="time">8/10/2019, 6:18:29 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/kotlin_notes/dist/content/chapter1.html" class="prev">
          Capítulo 1: Comenzando
        </a></span> <span class="next"><a href="/kotlin_notes/dist/content/chapter3.html">
          Capítulo 3: Funciones
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/kotlin_notes/dist/assets/js/app.7622c1c0.js" defer></script><script src="/kotlin_notes/dist/assets/js/2.89ccfc61.js" defer></script><script src="/kotlin_notes/dist/assets/js/6.e9488f40.js" defer></script>
  </body>
</html>
